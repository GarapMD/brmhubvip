-- ==== LOAD ==== --
local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local VirtualUser = game:GetService("VirtualUser")
local TeleportService = game:GetService("TeleportService")
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local HRP = Character:WaitForChild("HumanoidRootPart")
local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local workspace = game:GetService("Workspace")
local player = game:GetService("Players").LocalPlayer
local camera = workspace.CurrentCamera

-- Untuk Teleport Tool
local tp_height = 3
local cooldown = 0.3
local last_tp = 0

-- ==== STATE TABLE ESP ==== --
local g = {
    BoxESP = false,
    Chams = false,
    Tracers = false,
    Skeleton = false,
    HealthBar = false,
    Names = false,
    TeamFilter = false,
    AllESP = false,
}

-- ==== STATE TABLE ==== --
local g = {
    WalkSpeed = 16,
    JumpPower = 50,
    Noclip = false,
    InfJump = false,
    Rejoin = false,
    Hop = false,
    AntiFling = false,
    AntiAfk = false,
    TrollTool = false,
    Teleport = false,
    AntiVoid = false,
    AntiSeat = false,
    AntiFreeze = false,
    Fullbright = false,
    CekFpsPing = false,
    AutoRejoinSummit = false,
    YahayukLoop = false,
    CkptwLoop = false,
    SibuatanLoop = false,
    LembayanaLoop = false,
    AtinLoop = false,
    BayiLoop = false,
    YareuLoop = false,
    TpToPlayer = false,
    SpecToPlayer = false,
    MultiFling = false,
    AnimBrm = false,
    ScCarry = false,
}

-- ==== SYSTEM ESP ==== --

-- Tables & Resources
local boxes = {}
local highlights = {}
local beamTracers = {}
local skeletons = {}
local healthBars = {}
local nameLabels = {}

local boxConnection, chamsUpdateConnection, tracerConnection, skeletonConnection, healthBarConnection, nameESPConnection

local function getPlayerColor(plr)
    local teamColor = (plr.Team and plr.Team.TeamColor.Color) or Color3.fromRGB(0, 255, 0)
    if teamColor == Color3.new(1, 1, 1) then teamColor = Color3.fromRGB(0, 255, 0) end
    return teamColor
end

local function shouldShowPlayer(plr)
    if not g.TeamFilter then return true end
    if player.Team and plr.Team then return player.Team ~= plr.Team else return true end
end

-- Drawing helpers
local function createBox()
    local box = Drawing.new("Square")
    box.Visible = false
    box.Color = Color3.fromRGB(0, 255, 0)
    box.Thickness = 2
    box.Transparency = 1
    box.Filled = false
    return box
end

local function addHighlight(plr)
    if highlights[plr] then return end
    if not plr.Character or not plr.Character.Parent then return end
    if not shouldShowPlayer(plr) then return end
    local highlight = Instance.new("Highlight")
    highlight.Name = "ESPHighlight"
    highlight.Adornee = plr.Character
    highlight.FillColor = getPlayerColor(plr)
    highlight.OutlineColor = Color3.new(0,0,0)
    highlight.FillTransparency = 0.5
    highlight.OutlineTransparency = 0
    highlight.Parent = player:FindFirstChildOfClass("PlayerGui") or CoreGui
    highlights[plr] = highlight
end

local function removeHighlight(plr)
    if highlights[plr] then highlights[plr]:Destroy() highlights[plr] = nil end
end

local function createBeam(plr)
    if beamTracers[plr] then
        local old = beamTracers[plr]
        if old.Beam then old.Beam.Enabled=false old.Beam:Destroy() end
        if old.Attachment0 then old.Attachment0:Destroy() end
        if old.Attachment1 then old.Attachment1:Destroy() end
        beamTracers[plr] = nil
    end
    local character = plr.Character
    if not character then return nil end
    local hrp = character:FindFirstChild("HumanoidRootPart")
    local localHRP = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
    if not hrp or not localHRP then return nil end
    if not shouldShowPlayer(plr) then return nil end

    local att0 = Instance.new("Attachment"); att0.Name="ESPAttachment0"; att0.Parent = localHRP
    local att1 = Instance.new("Attachment"); att1.Name="ESPAttachment1"; att1.Parent = hrp

    local beam = Instance.new("Beam")
    beam.Name = "ESPBeam"
    beam.Attachment0 = att0
    beam.Attachment1 = att1
    beam.FaceCamera = true
    beam.Width0 = 0.05; beam.Width1 = 0.05
    beam.Color = ColorSequence.new(getPlayerColor(plr))
    beam.Transparency = NumberSequence.new(0)
    beam.Enabled = false
    beam.Parent = workspace

    beamTracers[plr] = { Attachment0 = att0, Attachment1 = att1, Beam = beam }
    return beamTracers[plr]
end

local function createSkeletonLine()
    local line = Drawing.new("Line")
    line.Visible = false
    line.Color = Color3.fromRGB(255,255,255)
    line.Thickness = 2
    line.Transparency = 1
    return line
end

local function createSkeleton(plr)
    if skeletons[plr] then
        for _, l in pairs(skeletons[plr]) do l:Remove() end
    end
    skeletons[plr] = {}
    local connections = {
        "Head-UpperTorso", "UpperTorso-LowerTorso",
        "UpperTorso-LeftUpperArm", "LeftUpperArm-LeftLowerArm", "LeftLowerArm-LeftHand",
        "UpperTorso-RightUpperArm", "RightUpperArm-RightLowerArm", "RightLowerArm-RightHand",
        "LowerTorso-LeftUpperLeg", "LeftUpperLeg-LeftLowerLeg", "LeftLowerLeg-LeftFoot",
        "LowerTorso-RightUpperLeg", "RightUpperLeg-RightLowerLeg", "RightLowerLeg-RightFoot"
    }
    for _, c in pairs(connections) do skeletons[plr][c] = createSkeletonLine() end
end

local function updateSkeleton(plr)
    local character = plr.Character
    if not character or not skeletons[plr] then return end
    if not shouldShowPlayer(plr) then
        for _,line in pairs(skeletons[plr]) do line.Visible=false end
        return
    end
    local humanoid = character:FindFirstChild("Humanoid")
    if not humanoid or humanoid.RigType ~= Enum.HumanoidRigType.R15 then
        for _,line in pairs(skeletons[plr]) do line.Visible=false end
        return
    end
    local parts = {
        Head = character:FindFirstChild("Head"),
        UpperTorso = character:FindFirstChild("UpperTorso"),
        LowerTorso = character:FindFirstChild("LowerTorso"),
        LeftUpperArm = character:FindFirstChild("LeftUpperArm"),
        LeftLowerArm = character:FindFirstChild("LeftLowerArm"),
        LeftHand = character:FindFirstChild("LeftHand"),
        RightUpperArm = character:FindFirstChild("RightUpperArm"),
        RightLowerArm = character:FindFirstChild("RightLowerArm"),
        RightHand = character:FindFirstChild("RightHand"),
        LeftUpperLeg = character:FindFirstChild("LeftUpperLeg"),
        LeftLowerLeg = character:FindFirstChild("LeftLowerLeg"),
        LeftFoot = character:FindFirstChild("LeftFoot"),
        RightUpperLeg = character:FindFirstChild("RightUpperLeg"),
        RightLowerLeg = character:FindFirstChild("RightLowerLeg"),
        RightFoot = character:FindFirstChild("RightFoot"),
    }
    local connections = {
        {"Head-UpperTorso", parts.Head, parts.UpperTorso},
        {"UpperTorso-LowerTorso", parts.UpperTorso, parts.LowerTorso},
        {"UpperTorso-LeftUpperArm", parts.UpperTorso, parts.LeftUpperArm},
        {"LeftUpperArm-LeftLowerArm", parts.LeftUpperArm, parts.LeftLowerArm},
        {"LeftLowerArm-LeftHand", parts.LeftLowerArm, parts.LeftHand},
        {"UpperTorso-RightUpperArm", parts.UpperTorso, parts.RightUpperArm},
        {"RightUpperArm-RightLowerArm", parts.RightUpperArm, parts.RightLowerArm},
        {"RightLowerArm-RightHand", parts.RightLowerArm, parts.RightHand},
        {"LowerTorso-LeftUpperLeg", parts.LowerTorso, parts.LeftUpperLeg},
        {"LeftUpperLeg-LeftLowerLeg", parts.LeftUpperLeg, parts.LeftLowerLeg},
        {"LeftLowerLeg-LeftFoot", parts.LeftLowerLeg, parts.LeftFoot},
        {"LowerTorso-RightUpperLeg", parts.LowerTorso, parts.RightUpperLeg},
        {"RightUpperLeg-RightLowerLeg", parts.RightUpperLeg, parts.RightLowerLeg},
        {"RightLowerLeg-RightFoot", parts.RightLowerLeg, parts.RightFoot}
    }
    for _, conn in pairs(connections) do
        local name, p1, p2 = conn[1], conn[2], conn[3]
        local line = skeletons[plr][name]
        if p1 and p2 and line then
            local pos1, on1 = camera:WorldToViewportPoint(p1.Position)
            local pos2, on2 = camera:WorldToViewportPoint(p2.Position)
            if on1 and on2 then
                line.From = Vector2.new(pos1.X, pos1.Y)
                line.To = Vector2.new(pos2.X, pos2.Y)
                line.Color = getPlayerColor(plr)
                line.Visible = true
            else
                line.Visible = false
            end
        else
            line.Visible = false
        end
    end
end

local function removeSkeleton(plr)
    if skeletons[plr] then
        for _, l in pairs(skeletons[plr]) do l:Remove() end
        skeletons[plr] = nil
    end
end

-- Health bar
local function createHealthBar()
    local hb = {}
    hb.background = Drawing.new("Square"); hb.background.Visible=false; hb.background.Color=Color3.fromRGB(0,0,0); hb.background.Thickness=1; hb.background.Transparency=1; hb.background.Filled=true
    hb.health = Drawing.new("Square"); hb.health.Visible=false; hb.health.Color=Color3.fromRGB(0,255,0); hb.health.Thickness=1; hb.health.Transparency=1; hb.health.Filled=true
    return hb
end

local function updateHealthBar(plr)
    local character = plr.Character
    if not character or not healthBars[plr] then return end
    if not shouldShowPlayer(plr) then hb.background.Visible=false hb.health.Visible=false return end
    local humanoid = character:FindFirstChild("Humanoid")
    local hrp = character:FindFirstChild("HumanoidRootPart")
    if not humanoid or not hrp then healthBars[plr].background.Visible=false healthBars[plr].health.Visible=false return end
    local rootPos, onScreen = camera:WorldToViewportPoint(hrp.Position)
    if not onScreen then healthBars[plr].background.Visible=false healthBars[plr].health.Visible=false return end
    local distance = math.clamp(rootPos.Z, 0.1, 1000)
    local barHeight = (600 / distance) * 1.3
    local barWidth = 6
    local backgroundWidth = 8
    local barX = rootPos.X - (barHeight * 1.0 / 2) - backgroundWidth - 10
    local barY = rootPos.Y - barHeight / 2
    healthBars[plr].background.Size = Vector2.new(backgroundWidth, barHeight + 2)
    healthBars[plr].background.Position = Vector2.new(barX - 1, barY - 1)
    healthBars[plr].background.Visible = true
    local healthPercent = math.clamp(humanoid.Health / humanoid.MaxHealth, 0, 1)
    if healthPercent <= 0 then healthBars[plr].health.Visible = false
    else
        local hbHeight = barHeight * healthPercent
        healthBars[plr].health.Size = Vector2.new(barWidth, hbHeight)
        healthBars[plr].health.Position = Vector2.new(barX, barY + (barHeight - hbHeight))
        healthBars[plr].health.Visible = true
        if healthPercent > 0.6 then healthBars[plr].health.Color = Color3.fromRGB(0,255,0)
        elseif healthPercent > 0.3 then healthBars[plr].health.Color = Color3.fromRGB(255,255,0)
        else healthBars[plr].health.Color = Color3.fromRGB(255,0,0) end
    end
end

local function removeHealthBar(plr)
    if healthBars[plr] then healthBars[plr].background:Remove() healthBars[plr].health:Remove() healthBars[plr] = nil end
end

-- Name label
local function createNameLabel()
    local nl = Drawing.new("Text")
    nl.Visible=false; nl.Color=Color3.fromRGB(255,255,255); nl.Size=16; nl.Center=true; nl.Outline=true; nl.OutlineColor=Color3.fromRGB(0,0,0); nl.Font=Drawing.Fonts.UI; nl.Transparency=1
    return nl
end

local function updateNameLabel(plr)
    local character = plr.Character
    if not character or not nameLabels[plr] then return end
    if not shouldShowPlayer(plr) then nameLabels[plr].Visible=false return end
    local hrp = character:FindFirstChild("HumanoidRootPart")
    if not hrp then nameLabels[plr].Visible=false return end
    local rootPos, onScreen = camera:WorldToViewportPoint(hrp.Position)
    if not onScreen then nameLabels[plr].Visible=false return end
    local distance = math.clamp(rootPos.Z, 0.1, 1000)
    local nameHeight = (600 / distance) * 1.3
    local nameX = rootPos.X
    local nameY = rootPos.Y - nameHeight / 2 - 20
    nameLabels[plr].Position = Vector2.new(nameX, nameY)
    nameLabels[plr].Text = plr.Name
    nameLabels[plr].Color = getPlayerColor(plr)
    nameLabels[plr].Visible = true
end

local function removeNameLabel(plr)
    if nameLabels[plr] then nameLabels[plr]:Remove() nameLabels[plr] = nil end
end

-- Update Functions For Render Loop
local function updateBoxes()
    for _, plr in pairs(Players:GetPlayers()) do
        if plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") and plr ~= player then
            if not shouldShowPlayer(plr) then if boxes[plr] then boxes[plr].Visible=false end; continue end
            local hrp = plr.Character.HumanoidRootPart
            local box = boxes[plr]
            if not box then box = createBox(); boxes[plr] = box end
            box.Color = getPlayerColor(plr)
            local rootPos, onScreen = camera:WorldToViewportPoint(hrp.Position)
            local distance = math.clamp(rootPos.Z, 0.1, 1000)
            if onScreen then
                local sizeY = (1500 / distance) * 1.3
                local sizeX = sizeY * 1.0
                box.Size = Vector2.new(sizeX, sizeY)
                box.Position = Vector2.new(rootPos.X - sizeX / 2, rootPos.Y - sizeY / 2)
                box.Visible = true
                local speed = hrp.Velocity.Magnitude
                box.Thickness = (speed > 1) and (2 + math.clamp(speed / 50, 0, 3)) or 2
            else
                box.Visible = false
            end
        else
            if boxes[plr] then boxes[plr].Visible = false end
        end
    end
end

local function updateAllHighlights()
    for plr, h in pairs(highlights) do
        if not shouldShowPlayer(plr) then removeHighlight(plr); continue end
        if plr.Character and plr.Character.Parent then
            h.Adornee = plr.Character
            h.FillColor = getPlayerColor(plr)
        else removeHighlight(plr) end
    end
end

local function updateTracers()
    local localHRP = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
    if not localHRP then
        for _, d in pairs(beamTracers) do if d.Beam then d.Beam.Enabled = false end end
        return
    end
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
            if not shouldShowPlayer(plr) then if beamTracers[plr] and beamTracers[plr].Beam then beamTracers[plr].Beam.Enabled=false end; continue end
            local targetHRP = plr.Character.HumanoidRootPart
            local beamData = beamTracers[plr] or createBeam(plr)
            if not beamData then continue end
            beamData.Attachment0.WorldPosition = localHRP.Position
            beamData.Attachment1.WorldPosition = targetHRP.Position
            beamData.Beam.Color = ColorSequence.new(getPlayerColor(plr))
            beamData.Beam.Enabled = true
        else
            if beamTracers[plr] and beamTracers[plr].Beam then beamTracers[plr].Beam.Enabled=false end
        end
    end
end

local function updateSkeletons()
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character then
            if not skeletons[plr] then createSkeleton(plr) end
            updateSkeleton(plr)
        end
    end
end

local function updateHealthBars()
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character then
            if not healthBars[plr] then healthBars[plr] = createHealthBar() end
            updateHealthBar(plr)
        else if healthBars[plr] then healthBars[plr].background.Visible=false healthBars[plr].health.Visible=false end end
    end
end

local function updateNameESP()
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character then
            if not nameLabels[plr] then nameLabels[plr] = createNameLabel() end
            updateNameLabel(plr)
        else if nameLabels[plr] then nameLabels[plr].Visible=false end end
    end
end

-- Player Add / Remove Handlers
Players.PlayerAdded:Connect(function(plr)
    if plr == player then return end
    plr.CharacterAdded:Connect(function()
        task.delay(0.5, function()
            if g.Tracers then createBeam(plr) end
            if g.Chams then addHighlight(plr) end
            if g.Skeleton then createSkeleton(plr) end
            if g.HealthBar and not healthBars[plr] then healthBars[plr] = createHealthBar() end
            if g.Names and not nameLabels[plr] then nameLabels[plr] = createNameLabel() end
        end)
    end)
end)

Players.PlayerRemoving:Connect(function(plr)
    if boxes[plr] then boxes[plr]:Remove() boxes[plr] = nil end
    removeHighlight(plr)
    if beamTracers[plr] then
        local d = beamTracers[plr]
        if d.Beam then d.Beam:Destroy() end
        if d.Attachment0 then d.Attachment0:Destroy() end
        if d.Attachment1 then d.Attachment1:Destroy() end
        beamTracers[plr] = nil
    end
    removeSkeleton(plr)
    removeHealthBar(plr)
    removeNameLabel(plr)
end)

-- Respawn Handler (local)
player.CharacterAdded:Connect(function()
    task.delay(0.5, function()
        if g.Tracers then
            for _, plr in pairs(Players:GetPlayers()) do if plr ~= player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then createBeam(plr) end end
        end
        if g.Skeleton then for _, plr in pairs(Players:GetPlayers()) do if plr ~= player then createSkeleton(plr) end end end
        if g.HealthBar then for _, plr in pairs(Players:GetPlayers()) do if plr ~= player and not healthBars[plr] then healthBars[plr] = createHealthBar() end end end
        if g.Names then for _, plr in pairs(Players:GetPlayers()) do if plr ~= player and not nameLabels[plr] then nameLabels[plr] = createNameLabel() end end end
    end)
end)

-- Render Loops (connect once)
boxConnection = RunService.RenderStepped:Connect(function()
    if g.BoxESP then updateBoxes() else for _, b in pairs(boxes) do b.Visible=false end end
end)
chamsUpdateConnection = RunService.RenderStepped:Connect(function() if g.Chams then updateAllHighlights() end end)
tracerConnection = RunService.RenderStepped:Connect(function() if g.Tracers then updateTracers() else for _,d in pairs(beamTracers) do if d.Beam then d.Beam.Enabled=false end end end end)
skeletonConnection = RunService.RenderStepped:Connect(function() if g.Skeleton then updateSkeletons() else for _,s in pairs(skeletons) do for _,line in pairs(s) do line.Visible=false end end end end)
healthBarConnection = RunService.RenderStepped:Connect(function() if g.HealthBar then updateHealthBars() else for _,hb in pairs(healthBars) do hb.background.Visible=false hb.health.Visible=false end end end)
nameESPConnection = RunService.RenderStepped:Connect(function() if g.Names then updateNameESP() else for _,nl in pairs(nameLabels) do nl.Visible=false end end end)

-- UTIL: Clear All Visuals
local function clearAllESPVisuals()
    for _, box in pairs(boxes) do box.Visible=false end; boxes = {}
    for plr, h in pairs(highlights) do h:Destroy() end; highlights = {}
    for plr, d in pairs(beamTracers) do
        if d.Beam then d.Beam:Destroy() end
        if d.Attachment0 then d.Attachment0:Destroy() end
        if d.Attachment1 then d.Attachment1:Destroy() end
    end; beamTracers = {}
    for plr, s in pairs(skeletons) do for _,line in pairs(s) do line:Remove() end end; skeletons = {}
    for plr, hb in pairs(healthBars) do hb.background:Remove() hb.health:Remove() end; healthBars = {}
    for plr, nl in pairs(nameLabels) do nl:Remove() end; nameLabels = {}
end

-- UTIL: Activate all ESP
local function activateAllESP(setTogglesFn)
-- Set States
    g.BoxESP = true; g.Chams = true; g.Tracers = true; g.Skeleton = true; g.HealthBar = true; g.Names = true; g.TeamFilter = g.TeamFilter or false
-- Create Visuals Immediately
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character then
            if not boxes[plr] then boxes[plr] = createBox() end
            if not highlights[plr] then addHighlight(plr) end
            if not beamTracers[plr] then createBeam(plr) end
            if not skeletons[plr] then createSkeleton(plr) end
            if not healthBars[plr] then healthBars[plr] = createHealthBar() end
            if not nameLabels[plr] then nameLabels[plr] = createNameLabel() end
        end
    end
-- Update Toggles In UI (if callback provided)
    if type(setTogglesFn) == "function" then pcall(setTogglesFn) end
end

local function activateAllESP(callback)
-- Set Master Flag
    g.AllESP = true

-- Set Individual Flags
    g.BoxESP    = true
    g.Chams     = true
    g.Tracers   = true
    g.Skeleton  = true
    g.HealthBar = true
    g.Names     = true
    g.TeamFilter= true

-- Create Visuals For Existing Players (safe calls)
    pcall(function()
        for _, plr in pairs(Players:GetPlayers()) do
            if plr ~= player and plr.Character and plr.Character.Parent then
                -- Boxes
                if g.BoxESP and plr.Character:FindFirstChild("HumanoidRootPart") and (not boxes[plr]) then
                    boxes[plr] = createBox()
                end
                -- Chams
                if g.Chams then addHighlight(plr) end
                -- Tracers
                if g.Tracers and plr.Character:FindFirstChild("HumanoidRootPart") then
                    if not beamTracers[plr] then createBeam(plr) end
                end
                -- Skeleton
                if g.Skeleton then createSkeleton(plr) end
                -- Health
                if g.HealthBar then
                    if not healthBars[plr] then healthBars[plr] = createHealthBar() end
                end
                -- Names
                if g.Names then
                    if not nameLabels[plr] then nameLabels[plr] = createNameLabel() end
                end
            end
        end
    end)

-- Optionally Run Callback To Sync UI Toggles
    if type(callback) == "function" then
        pcall(callback)
    end
end

--==== SYSTEM LOGIC ANTI VOID ==== --
spawn(function()
    while true do
        if g.AntiVoid then
            local player = game.Players.LocalPlayer
            local char = player.Character
            local hrp = char and char:FindFirstChild("HumanoidRootPart")

            if hrp and hrp.Position.Y < -20 then
                hrp.CFrame = CFrame.new(0,50,0)
            end
        end
        task.wait(0.2)
    end
end)

-- ==== SYSTEM LOGIC ANTI SEAT LOCK ==== --
spawn(function()
    while true do
        if g.AntiSeat then
            local player = game.Players.LocalPlayer
            local char = player.Character
            if char then
                local hum = char:FindFirstChildOfClass("Humanoid")
                if hum and hum.Sit then
                    pcall(function() hum.Sit = false end)
                end
            end
        end
        task.wait(0.2)
    end
end)

-- ==== SYSTEM LOGIC ANTI FREEZE ==== --
spawn(function()
    while true do
        if g.AntiFreeze then
            local player = game.Players.LocalPlayer
            local char = player.Character
            local hrp = char and char:FindFirstChild("HumanoidRootPart")

            if hrp and hrp.Anchored == true then
                pcall(function()
                    hrp.Anchored = false
                end)
            end
        end
        task.wait(0.2)
    end
end)

-- ==== UTILITY ==== --
local function safeHumanoidSet(prop,val)
    pcall(function()
        local char = LocalPlayer.Character
        if char then
            local hum = char:FindFirstChildOfClass("Humanoid")
            if hum then hum[prop] = val end
        end
    end)
end

-- ==== AUTO REJOIN SYSTEM ==== --
task.spawn(function()
    repeat task.wait() until game:IsLoaded()

    -- koordinat puncak
    local summitPoints = {
        Yahayuk = Vector3.new(-611.448059, 906.378845, -537.121033),
        Ckptw = Vector3.new(1802.000000, 1982.378418, 2168.000000),
        Sibuatan = Vector3.new(5396.010254, 8110.784668, 2213.931641),
        Lembayana = Vector3.new(-23430.347656, 6352.698242, -6907.371094),
        Atin = Vector3.new(823.000000, 2146.322510, 3899.000000),
        Bayi = Vector3.new(-1404.000000, 401.887299, 1613.000000),
        Yareu = Vector3.new(-873.094910, 810.254395, 1776.252441)
        
    }

    local reachRadius = 3 -- jarak deteksi puncak

    -- fungsi untuk rejoin
    local function AutoRejoin()
        print("[Auto Rejoin Summit] Kamu mencapai puncak! Rejoining...")
        task.wait(1)
        TeleportService:TeleportToPlaceInstance(game.PlaceId, game.JobId, LocalPlayer)
    end

    -- loop pengecekan posisi karakter
    while task.wait(1) do
        if g.AutoRejoinSummit and LocalPlayer.Character and HRP then
            local currentPos = HRP.Position

            for name, summitPos in pairs(summitPoints) do
                local distance = (currentPos - summitPos).Magnitude
                if distance <= reachRadius then
                    print("[Auto Rejoin Summit] Deteksi puncak:", name)
                    AutoRejoin()
                    break
                end
            end
        end
    end
end)

-- ==== AUTO LOOP TELEPORT YAHAYUK SISTEM ====
task.spawn(function()
    repeat task.wait() until game:IsLoaded()

    -- Daftar koordinat teleport (urut sesuai rute pendakian)
    local yahayukPoints = {
        Vector3.new(-417.732086, 249.378891, 786.940857),    -- CP1
        Vector3.new(-337.032806, 388.378876, 524.502869),    -- CP2
        Vector3.new(294.630402, 430.107880, 494.499603),     -- CP3
        Vector3.new(320.857605, 490.378876, 344.081604),      -- CP4
        Vector3.new(232.959427, 314.378876, -144.456421),     -- CP5
        Vector3.new(-611.448059, 906.378845, -537.121033),   -- SUMMIT
        Vector3.new(-902.000000, 170.378876, 891.000000),     -- BASE
    }

    local delayTime = 20.0 -- jeda antar teleport (detik)

    while task.wait(1) do
        if g.YahayukLoop then
            -- loop dari Base ke Summit
            for i, pos in ipairs(yahayukPoints) do
                if not g.YahayukLoop then break end
                if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    player.Character:MoveTo(pos)
                    print(("[AutoLoop] Teleported to CP %d"):format(i))
                end
                task.wait(delayTime)
            end
            -- Kembali ke base
            if g.YahayukLoop then
                player.Character:MoveTo(yahayukPoints[1])
                print("[AutoLoop] Kembali ke Base. Ulangi loop...")
                task.wait(delayTime)
            end
        end
    end
end)

-- ==== AUTO LOOP TELEPORT CKPTW SISTEM ====
task.spawn(function()
    repeat task.wait() until game:IsLoaded()

    -- Daftar koordinat teleport (urut sesuai rute pendakian)
    local ckptwPoints = {
        Vector3.new(512.151672, 161.001846, -534.376709),    -- CP1
        Vector3.new(390.155762, 310.061584, -187.605545),    -- CP2
        Vector3.new(100.680374, 412.662872, 612.642151),     -- CP3
        Vector3.new(10.800644, 601.564636, 996.701599),      -- CP4
        Vector3.new(871.686768, 865.273560, 582.159607),     -- CP5
        Vector3.new(1615.082397, 1081.558105, 160.475266),   -- CP6
        Vector3.new(2967.895264, 1527.978760, 707.978638),   -- CP7
        Vector3.new(1943.124756, 1744.037598, 1223.344360),  -- CP8
        Vector3.new(1802.000000, 1982.378418, 2168.000000),  -- Summit
        Vector3.new(239.000000, 14.378896, -990.000000),     -- Base
    }

    local delayTime = 9.0 -- jeda antar teleport (detik)

    while task.wait(1) do
        if g.CkptwLoop then
            -- loop dari Base ke Summit
            for i, pos in ipairs(ckptwPoints) do
                if not g.CkptwLoop then break end
                if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    player.Character:MoveTo(pos)
                    print(("[AutoLoop] Teleported to CP %d"):format(i))
                end
                task.wait(delayTime)
            end
            -- Kembali ke base
            if g.CkptwLoop then
                player.Character:MoveTo(ckptwPoints[1])
                print("[AutoLoop] Kembali ke Base. Ulangi loop...")
                task.wait(delayTime)
            end
        end
    end
end)

-- ==== AUTO LOOP TELEPORT SIBUATAN SISTEM ====
task.spawn(function()
    repeat task.wait() until game:IsLoaded()

    -- Daftar koordinat teleport (urut sesuai rute pendakian)
    local sibuatanPoints = {
        Vector3.new(5396.010254, 8110.784668, 2213.931641),    -- PUNCAK
    }

    local delayTime = 2.0 -- jeda antar teleport (detik)

    while task.wait(1) do
        if g.SibuatanLoop then
            -- loop dari Base ke Summit
            for i, pos in ipairs(sibuatanPoints) do
                if not g.SibuatanLoop then break end
                if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    player.Character:MoveTo(pos)
                    print(("[AutoLoop] Teleported to CP %d"):format(i))
                end
                task.wait(delayTime)
            end
            -- Kembali ke base
            if g.SibuatanLoop then
                player.Character:MoveTo(sibuatanPoints[1])
                print("[AutoLoop] Kembali ke Base. Ulangi loop...")
                task.wait(delayTime)
            end
        end
    end
end)

-- ==== AUTO LOOP TELEPORT LEMBAYANA SISTEM ====
task.spawn(function()
    repeat task.wait() until game:IsLoaded()

    -- Daftar koordinat teleport (urut sesuai rute pendakian)
    local lembayanaPoints = {
        Vector3.new(599.000000, 268.076691, 517.000000),    -- CP1
        Vector3.new(-23430.347656, 6352.698242, -6907.371094),    -- SUMMIT
    }

    local delayTime = 1.0 -- jeda antar teleport (detik)

    while task.wait(1) do
        if g.LembayanaLoop then
            -- loop dari Base ke Summit
            for i, pos in ipairs(lembayanaPoints) do
                if not g.LembayanaLoop then break end
                if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    player.Character:MoveTo(pos)
                    print(("[AutoLoop] Teleported to CP %d"):format(i))
                end
                task.wait(delayTime)
            end
            -- Kembali ke base
            if g.LembayanaLoop then
                player.Character:MoveTo(lembayanaPoints[1])
                print("[AutoLoop] Kembali ke Base. Ulangi loop...")
                task.wait(delayTime)
            end
        end
    end
end)

-- ==== AUTO LOOP TELEPORT ATIN SISTEM ====
task.spawn(function()
    repeat task.wait() until game:IsLoaded()

    -- Daftar koordinat teleport (urut sesuai rute pendakian)
    local atinPoints = {
        Vector3.new(5.000000, 13.979286, -404.000000),
        Vector3.new(-184.000000, 129.425385, 409.000031),
        Vector3.new(-165.000000, 231.038300, 653.000061),
        Vector3.new(-38.000000, 407.956329, 616.000000),
        Vector3.new(130.000000, 651.482361, 614.000000),
        Vector3.new(-247.000000, 667.052979, 735.000000),
        Vector3.new(-683.420471, 642.119202, 867.463745),
        Vector3.new(-658.000000, 689.839233, 1458.000000),
        Vector3.new(-508.000000, 904.273560, 1868.000000),
        Vector3.new(61.000000, 951.188721, 2088.000000),
        Vector3.new(52.000000, 982.886108, 2451.000000),
        Vector3.new(73.000000, 1098.309937, 2458.000000),
        Vector3.new(263.000000, 1271.468384, 2038.000000),
        Vector3.new(-419.000000, 1303.526123, 2395.000000),
        Vector3.new(-771.425598, 1315.218506, 2665.290039),
        Vector3.new(-838.000000, 1475.692261, 2626.000000),
        Vector3.new(-469.000000, 1467.001221, 2769.000000),
        Vector3.new(-468.000000, 1538.606201, 2837.000000),
        Vector3.new(-383.780273, 1641.560791, 2794.792236),
        Vector3.new(-209.000000, 1667.074951, 2749.000000),
        Vector3.new(-232.023468, 1743.454590, 2793.137939),
        Vector3.new(-425.000000, 1741.758911, 2799.000000),
        Vector3.new(-424.000000, 1713.798584, 3421.000000),
        Vector3.new(70.435318, 1720.049072, 3426.502197),
        Vector3.new(436.000000, 1721.929932, 3430.000000),
        Vector3.new(626.000000, 1800.740723, 3433.000000),
        Vector3.new(823.000000, 2146.322510, 3899.000000),
    }

    local delayTime = 2.0 -- jeda antar teleport (detik)

    while task.wait(1) do
        if g.AtinLoop then
            -- loop dari Base ke Summit
            for i, pos in ipairs(atinPoints) do
                if not g.AtinLoop then break end
                if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    player.Character:MoveTo(pos)
                    print(("[AutoLoop] Teleported to CP %d"):format(i))
                end
                task.wait(delayTime)
            end
            -- Kembali ke base
            if g.AtinLoop then
                player.Character:MoveTo(atinPoints[1])
                print("[AutoLoop] Kembali ke Base. Ulangi loop...")
                task.wait(delayTime)
            end
        end
    end
end)

-- ==== AUTO LOOP TELEPORT BAYI SISTEM ====
task.spawn(function()
    repeat task.wait() until game:IsLoaded()

    -- Daftar koordinat teleport (urut sesuai rute pendakian)
    local bayiPoints = {
        Vector3.new(-368.000000, 64.759117, 45.000000),    -- CP1
        Vector3.new(-727.966858, 116.759117, 97.011330),    -- CP2
        Vector3.new(-852.099060, 110.279152, -36.222080),    -- CP3
        Vector3.new(-1409.223022, 252.759109, 1500.366333),    -- CP4
        Vector3.new(-1404.000000, 401.887299, 1613.000000),    -- SUMMIT
    }

    local delayTime = 9.0 -- jeda antar teleport (detik)

    while task.wait(1) do
        if g.BayiLoop then
            -- loop dari Base ke Summit
            for i, pos in ipairs(bayiPoints) do
                if not g.BayiLoop then break end
                if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    player.Character:MoveTo(pos)
                    print(("[AutoLoop] Teleported to CP %d"):format(i))
                end
                task.wait(delayTime)
            end
            -- Kembali ke base
            if g.BayiLoop then
                player.Character:MoveTo(bayiPoints[1])
                print("[AutoLoop] Kembali ke Base. Ulangi loop...")
                task.wait(delayTime)
            end
        end
    end
end)

-- ==== AUTO LOOP TELEPORT YAREU SISTEM ====
task.spawn(function()
    repeat task.wait() until game:IsLoaded()

    -- Daftar koordinat teleport (urut sesuai rute pendakian)
    local yareuPoints = {
        Vector3.new(-124.000000, 128.790359, -53.000000),    -- CP1
        Vector3.new(-171.624924, 162.760056, 497.737610),    -- CP2
        Vector3.new(-218.000000, 102.759117, 754.000000),    -- CP3
        Vector3.new(-666.000000, 318.759094, 978.000000),    -- CP4
        Vector3.new(-893.000000, 454.759094, 1064.000000),    -- CP5
        Vector3.new(-1125.000000, 530.759094, 1056.000000),    -- CP6
        Vector3.new(-1140.000000, 528.759094, 1305.000000),    -- CP7
        Vector3.new(-1170.000000, 518.759094, 1841.000000),    -- CP8
        Vector3.new(-872.000000, 698.759094, 1810.000000),    -- CP9
        Vector3.new(-873.094910, 810.254395, 1776.252441),    -- SUMMIT
    }

    local delayTime = 1.0 -- jeda antar teleport (detik)

    while task.wait(1) do
        if g.YareuLoop then
            -- loop dari Base ke Summit
            for i, pos in ipairs(yareuPoints) do
                if not g.YareuLoop then break end
                if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    player.Character:MoveTo(pos)
                    print(("[AutoLoop] Teleported to CP %d"):format(i))
                end
                task.wait(delayTime)
            end
            -- Kembali ke base
            if g.YareuLoop then
                player.Character:MoveTo(yareuPoints[1])
                print("[AutoLoop] Kembali ke Base. Ulangi loop...")
                task.wait(delayTime)
            end
        end
    end
end)

-- ==== WIND UI ==== --

WindUI.TransparencyValue = 0.2
WindUI:SetTheme("Midnight")

local function gradient(text, startColor, endColor)
    local result = ""
    for i = 1, #text do
        local t = (i - 1) / (#text - 1)
        local r = math.floor((startColor.R + (endColor.R - startColor.R) * t) * 255)
        local g = math.floor((startColor.G + (endColor.G - startColor.G) * t) * 255)
        local b = math.floor((startColor.B + (endColor.B - startColor.B) * t) * 255)
        result = result .. string.format('<font color="rgb(%d,%d,%d)">%s</font>', r, g, b, text:sub(i, i))
    end
    return result
end

-- ==== POPUP ==== --
WindUI:Popup({
    Title = gradient("BREMBO GAMING", Color3.fromHex("#6A11CB"), Color3.fromHex("#2575FC")),
    Icon = "sparkles",
    Content = "SUBSCRIBE YT BREMBO GAMING",
    Buttons = {
        {
            Title = "MULAI",
            Icon = "arrow-right",
            Variant = "Primary",
            Callback = function() end
        }
    }
})

-- ==== WINDOWS ==== --
local Window = WindUI:CreateWindow({
    Title = "BREMBO GAMING",
    Icon = "monitor",
    Author = "WELCOME",
    Folder = "BremboFolder",
    Size = UDim2.fromOffset(580, 490),
    Transparent = true,
    Theme = "Midnight",
    
    HidePanelBackground = false,
    NewElements = false,
    
    User = {
        Enabled = true,
        Anonymous = true,
        Callback = function()
            WindUI:Notify({
                Title = "USER PROFILE",
                Content = "USER PROFILE CLICKED!",
                Duration = 2
            })
        end
    },
    Acrylic = false,
    HideSearchBar = false,
    SideBarWidth = 200,
--    KeySystem = {  
--    Key = { "1234", "5678" },  
--    Note = "Example Key System. With platoboost, etc.",
--    URL = "https://github.com/Footagesus/WindUI",
--    SaveKey = false,
--    },
})



-- ==== USER / INFO PLAYER ==== --
Window.User:SetAnonymous(false)
--Window.User:Disable()




Window:SetIconSize(48)

Window:Tag({
    Title = "V1.2.3",
    Color = Color3.fromHex("#30ff6a")
})
Window:Tag({
    Title = "VIP USER",
    Color = Color3.fromHex("#ffd700")
})
local TimeTag = Window:Tag({
    Title = "--:--",
    --Radius = 0,
    --Color = Color3.fromHex("#000000"),
    Color = WindUI:Gradient({
        ["0"]   = { Color = Color3.fromHex("#FF0F7B"), Transparency = 0 },
        ["100"] = { Color = Color3.fromHex("#F89B29"), Transparency = 0 },
    }, {
        Rotation = 45,
    }),
})


local hue = 0

-- ==== RAINBOW EFFECT & TIME  ==== --
task.spawn(function()
	while true do
		local now = os.date("*t")
		local hours = string.format("%02d", now.hour)
		local minutes = string.format("%02d", now.min)
		local second = string.format("%02d", now.sec)
		
		hue = (hue + 0.01) % 1
		local color = Color3.fromHSV(hue, 1, 1)
		
		TimeTag:SetTitle(hours .. ":" .. minutes .. ":" .. second)
		--TimeTag:SetColor(color)

		task.wait(0.06)
	end
end)


Window:CreateTopbarButton("theme-switcher", "moon", function()
    WindUI:SetTheme(WindUI:GetCurrentTheme() == "Midnight" and "Light" or "Dark")
    WindUI:Notify({
        Title = "Theme Changed",
        Content = "Current theme: "..WindUI:GetCurrentTheme(),
        Duration = 2
    })
end, 990)

-- ==== SECTIONS ==== --
local Sections = {
    Main = Window:Section({ Title = "FEATURES", }),
    Protect = Window:Section({ Title = "PROTECT", }),
    Teleport = Window:Section({ Title = "TELEPORT", }),
    Settings = Window:Section({ Title = "SETTINGS", }),
    Utilities = Window:Section({ Title = "UTILITIES", })
}

-- ==== TABS ==== --
local Tabs = {
    Main = Sections.Main:Tab({ Title = "MAIN", Icon = "gem" }),
    Misc = Sections.Main:Tab({ Title = "MISC", Icon = "gem" }),
    Tool = Sections.Main:Tab({ Title = "TOOL", Icon = "gem" }),
    Esp = Sections.Main:Tab({ Title = "ESP", Icon = "gem" }),
    Protect = Sections.Protect:Tab({ Title = "PROTECT", Icon = "gem" }),
    MtYahayuk = Sections.Teleport:Tab({ Title = "MT YAHAYUK", Icon = "mountain" }),
    MtCkptw = Sections.Teleport:Tab({ Title = "MT CKPTW", Icon = "mountain" }),
    MtSibuatan = Sections.Teleport:Tab({ Title = "MT SIBUATAN", Icon = "mountain" }),
    MtLembayana = Sections.Teleport:Tab({ Title = "MT LEMBAYANA", Icon = "mountain" }),
    MtAtin = Sections.Teleport:Tab({ Title = "MT ATIN", Icon = "mountain" }),
    MtBayi = Sections.Teleport:Tab({ Title = "MT BAYI", Icon = "mountain" }),
    MtYareu = Sections.Teleport:Tab({ Title = "MT YAREU", Icon = "mountain" }),
    Appearance = Sections.Settings:Tab({ Title = "APPEARANCE", Icon = "brush" }),
    Config = Sections.Utilities:Tab({ Title = "CONFIGURATION", Icon = "settings" }),
}

-- ==== LABLE PARAGRAPH ESP === --
Tabs.Esp:Paragraph({
    Title = "ESP CONTROLLER",
    Desc = "menu esp controller",
    Image = "eye",
    ImageSize = 18,
    Color = "White"
})

-- ==== TOGGLE ESP BOX =====
local boxToggle = Tabs.Esp:Toggle({
    Title = "Box 3D",
    Desc = "Menampilkan kotak ke pemain lain",
    Value = g.BoxESP,
    Callback = function(state)
        g.BoxESP = state
        if not state then
            for _, box in pairs(boxes) do box.Visible = false end
            boxes = {}
        else
            -- build initial boxes for existing players
            for _, plr in pairs(Players:GetPlayers()) do
                if plr ~= player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                    if not boxes[plr] then boxes[plr] = createBox() end
                end
            end
        end
    end
})

-- ==== TOGGLE ESP CHAMS =====
local chamsToggle = Tabs.Esp:Toggle({
    Title = "Chams",
    Desc = "Menampilkan sorotan ke pemain lain",
    Value = g.Chams,
    Callback = function(state)
        g.Chams = state
        if state then
            for _, plr in pairs(Players:GetPlayers()) do
                if plr ~= player and plr.Character then addHighlight(plr) end
            end
        else
            for plr, h in pairs(highlights) do h:Destroy() end
            highlights = {}
        end
    end
})

-- ==== TOGGLE ESP TRACER =====
local tracerToggle = Tabs.Esp:Toggle({
    Title = "Tracers",
    Desc = "Menampilkan garis antena ke pemain lain",
    Value = g.Tracers,
    Callback = function(state)
        g.Tracers = state
        if state then
            for _, plr in pairs(Players:GetPlayers()) do
                if plr ~= player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                    if not beamTracers[plr] then createBeam(plr) end
                end
            end
        else
            for plr, data in pairs(beamTracers) do
                if data.Beam then data.Beam.Enabled = false data.Beam:Destroy() end
                if data.Attachment0 then data.Attachment0:Destroy() end
                if data.Attachment1 then data.Attachment1:Destroy() end
            end
            beamTracers = {}
        end
    end
})

-- ==== TOGGLE ESP SKELETON =====
local skeletonToggle = Tabs.Esp:Toggle({
    Title = "Skeleton",
    Desc = "Menampilkan garis kerangka ke pemain lain",
    Value = g.Skeleton,
    Callback = function(state)
        g.Skeleton = state
        if state then
            for _, plr in pairs(Players:GetPlayers()) do
                if plr ~= player and plr.Character then createSkeleton(plr) end
            end
        else
            for plr, skeletonLines in pairs(skeletons) do
                for _, line in pairs(skeletonLines) do line.Visible = false end
            end
        end
    end
})

-- ==== TOGGLE ESP HEALTH =====
local healthToggle = Tabs.Esp:Toggle({
    Title = "Health Bars",
    Desc = "Menampilkan health bar pemain lain",
    Value = g.HealthBar,
    Callback = function(state)
        g.HealthBar = state
        if state then
            for _, plr in pairs(Players:GetPlayers()) do
                if plr ~= player and plr.Character then
                    if not healthBars[plr] then healthBars[plr] = createHealthBar() end
                end
            end
        else
            for plr, hb in pairs(healthBars) do hb.background.Visible = false hb.health.Visible = false end
        end
    end
})

-- ==== TOGGLE ESP USERNAME =====
local nameToggle = Tabs.Esp:Toggle({
    Title = "Username",
    Desc = "Menampilkan username pemain lain",
    Value = g.Names,
    Callback = function(state)
        g.Names = state
        if state then
            for _, plr in pairs(Players:GetPlayers()) do
                if plr ~= player and plr.Character then
                    if not nameLabels[plr] then nameLabels[plr] = createNameLabel() end
                end
            end
        else
            for plr, nl in pairs(nameLabels) do nl.Visible = false end
        end
    end
})

-- ==== TOGGLE ESP FILTER =====
local teamFilterToggle = Tabs.Esp:Toggle({
    Title = "Remove Team ESP",
    Desc = "Sembunyikan ESP dari team / teman",
    Value = g.TeamFilter,
    Callback = function(state)
        g.TeamFilter = state
        -- refresh chams highlights to respect new filter
        if g.Chams then
            for plr, h in pairs(highlights) do
                if not shouldShowPlayer(plr) then removeHighlight(plr) end
            end
            for _, plr in pairs(Players:GetPlayers()) do
                if plr ~= player and shouldShowPlayer(plr) and plr.Character then addHighlight(plr) end
            end
        end
    end
})

-- ==== SPACE =====
Tabs.Esp:Paragraph({ Title = "", Desc = "", Color = "Grey" })

-- ==== BUTTON ACTIVE ALL ESP =====
local activeallesp = Tabs.Esp:Button({
    Title = "ACTIVE ALL ESP",
    Icon = "zap",
    Variant = "Primary",
    Callback = function()
        -- memanggil util activateAllESP dan sinkronkan UI toggles
        activateAllESP(function()
            pcall(function()
                boxToggle:Set(true)
                chamsToggle:Set(true)
                tracerToggle:Set(true)
                skeletonToggle:Set(true)
                healthToggle:Set(true)
                nameToggle:Set(true)
                teamFilterToggle:Set(true)
            end)
        end)
    end
})

-- ==== BUTTON CLEAR ALL ESP =====
local clearallesp = Tabs.Esp:Button({
    Title = "CLEAR ALL ESP",
    Icon = "trash",
    Variant = "Danger",
    Callback = function()
        g.BoxESP = false; g.Chams = false; g.Tracers = false; g.Skeleton = false; g.HealthBar = false; g.Names = false; g.TeamFilter = false
        pcall(function()
            boxToggle:Set(false)
            chamsToggle:Set(false)
            tracerToggle:Set(false)
            skeletonToggle:Set(false)
            healthToggle:Set(false)
            nameToggle:Set(false)
            teamFilterToggle:Set(false)
        end)
        clearAllESPVisuals()
    end
})

-- ==== LABLE PARAGRAPH PLAYER CONTROLLER === --
Tabs.Main:Paragraph({
    Title = "MAIN CONTROLLER",
    Desc = "menu main controller",
    Image = "eye",
    ImageSize = 18,
    Color = "White"
})

-- ==== TOGGLE INFINITE JUMP ==== --
local infinitejump = Tabs.Main:Toggle({
    Title = "InfiniteJump",
    Desc = "membuat karakter melompat tidak terbatas",
    Locked = false,
    Value = g.InfJump,
    Callback = function(state) 
        g.InfJump = state
    end
})
UserInputService.JumpRequest:Connect(function()
    if g.InfJump then
        local hum = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if hum then hum:ChangeState(Enum.HumanoidStateType.Jumping) end
    end
end)

-- ==== SLIDER JUMP POWER ==== --
local jumppower = Tabs.Main:Slider({
    Title = "JumpPower",
    Desc = "mengatur kekuatan lompatan karakter",
    Locked = false,
    Value = { g.JumpPower, Min = 50, Max = 300, Default = 50 },
    Callback = function(value)
        g.JumpPower = value
        safeHumanoidSet("JumpPower", value)
    end
})

-- ==== TOGGLE NO CLIP ==== --
local noclip = Tabs.Main:Toggle({
    Title = "NoClip",
    Desc = "membuat karakter menembus apapun",
    Locked = false,
    Value = g.Noclip,
    Callback = function(state) 
        g.Noclip = state
            if state then
            noclipConnection = RunService.Stepped:Connect(function()
                local char = LocalPlayer.Character
                if char then
                    for _,v in ipairs(char:GetDescendants()) do
                        if v:IsA("BasePart") then
                            pcall(function() v.CanCollide = false end)
                        end
                    end
                end
            end)
        else
            if noclipConnection and noclipConnection.Connected then noclipConnection:Disconnect() end
            -- restore CanCollide
            local char = LocalPlayer.Character
            if char then
                for _,v in ipairs(char:GetDescendants()) do
                    if v:IsA("BasePart") then
                        v.CanCollide = true
                    end
                end
            end
        end
    end
})

-- ==== SLIDER WALK SPEED ==== --
local walkspeed = Tabs.Main:Slider({
    Title = "WalkSpeed",
    Desc = "mengatur kecepatan karakter berjalan",
    Locked = false,
    Value = { g.WalkSpeed, Min = 16, Max = 300, Default = 16 },
    Callback = function(value)
        g.WalkSpeed = value
        safeHumanoidSet("WalkSpeed", value)
    end
})

-- ==== BUTTON FLY ==== --
local flygui = Tabs.Main:Button({
    Title = "Flying",
    Desc = "mengaktifkan menu terbang",
    Locked = false,
    Callback = function(state)
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GarapMD/flybrm/refs/heads/main/flybrm.txt"))()
    end
})

-- ==== LABLE PARAGRAPH MISC === --
Tabs.Misc:Paragraph({
    Title = "MISC CONTROLLER",
    Desc = "menu misc controller",
    Image = "eye",
    ImageSize = 18,
    Color = "White"
})

-- ==== BUTTON CEK FPS DAN PING ==== --
local cekfpsping = Tabs.Misc:Button({
    Title = "Cek Fps And Ping",
    Desc = "menampilkan status fps dan ping",
    Locked = false,
    Callback = function(state)
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GarapMD/CEK-FPS-DAN-PING/refs/heads/main/cekfpsping.txt"))()
    end
})

-- ==== BUTTON REJOIN SERVER ==== --
local rejoin = Tabs.Misc:Button({
    Title = "Rejoin Server",
    Desc = "bergabung kembali diserver saat ini",
    Locked = false,
    Callback = function(state)
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GarapMD/Rejoin-server/refs/heads/main/Rejoin%20server"))()
    end
})

-- ==== BUTTON HOP SERVER ==== --
local hopserver = Tabs.Misc:Button({
    Title = "Hop Server",
    Desc = "bergabung ke server baru / server sepi",
    Locked = false,
    Callback = function(state)
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GarapMD/Hop-Server-V2/refs/heads/main/Hop%20Server%20V2"))()
    end
})

-- ==== FULL BRIGHT ==== --
local fullbright = Tabs.Misc:Toggle({
    Title = "Full Bright",
    Desc = "membuat tampilan menjadi terang",
    Locked = false,
    Value = g.Fullbright,
    Callback = function(state) 
        g.Fullbright = state
            if state then
        game.Lighting.Brightness = 2
        game.Lighting.ClockTime = 12
        game.Lighting.FogEnd = 1e6
        game.Lighting.GlobalShadows = false
        game.Lighting.OutdoorAmbient = Color3.fromRGB(128,128,128)
        else
        -- Reset Lighting (Anda dapat menyesuaikannya)
        game.Lighting.Brightness = 1
        game.Lighting.ClockTime = 14
        game.Lighting.FogEnd = 1000
        game.Lighting.GlobalShadows = true
        game.Lighting.OutdoorAmbient = Color3.fromRGB(0,0,0)
        end
    end
})

-- ==== LABLE PARAGRAPH TOOL === --
Tabs.Protect:Paragraph({
    Title = "PROTECT CONTROLLER",
    Desc = "menu protect controller",
    Image = "eye",
    ImageSize = 18,
    Color = "White"
})

-- ==== TOGGLE ANTI VOID ==== --
local antivoid = Tabs.Protect:Toggle({
    Title = "Anti Void",
    Desc = "mencegah pemain jatuh ke bawah map (void)",
    Locked = false,
    Value = g.AntiVoid,
    Callback = function(value)
        g.AntiVoid = value
    end
})

-- ==== BUTTON ANTI FLING === --
local antifling = Tabs.Protect:Button({
    Title = "Anti Fling",
    Desc = "membuat karakter anti terhadap fling atau lemparan",
    Locked = false,
    Callback = function(state) 
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GarapMD/ANTI-FLING/refs/heads/main/antifling.txt"))()
    end
})

-- ==== TOGGLE ANTI FREEZE ==== --
local antifreeze = Tabs.Protect:Toggle({
    Title = "Anti Freeze",
    Desc = "membuat pemain anti terhadap beku",
    Locked = false,
    Value = g.AntiFreeze,
    Callback = function(value)
        g.AntiFreeze = value
    end
})

-- ==== BUTTON ANTI AFK === --
local antiafk = Tabs.Protect:Button({
    Title = "Anti Afk",
    Desc = "membuat karakter anti terhadap afk",
    Locked = false,
    Callback = function(state) 
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GarapMD/ANTI-AFK/refs/heads/main/ANTI%20AFK"))()
    end
})

-- ==== ANTI SEATLOCK ==== --
local antiseattlock = Tabs.Protect:Toggle({
    Title = "Anti Seatlock",
    Desc = "mencegah karakter terkunci setelah duduk di kursi",
    Locked = false,
    Value = g.AntiSeat,
    Callback = function(value)
        g.AntiSeat = value
    end
})

-- ==== BUTTON NO FALL DAMAGE ==== --
local nofalldamage = Tabs.Protect:Button({
    Title = "No Fall Damage",
    Desc = "tidak ada kerusakan saat terjatuh",
    Locked = false,
    Value = false,
    Callback = function()
        local v0=game:GetService("Players");local v1=game:GetService("RunService");local v2=game:GetService("UserInputService");local v3=v0.LocalPlayer;local v4=v3.Character or v3.CharacterAdded:Wait() ;local v5=v4:WaitForChild("Humanoid");local v6=v4:WaitForChild("HumanoidRootPart");local v7=false;local v8=v6.Position.Y;local v9=false;local v10= -(1847 -(1228 + 618));local v11=50;v3.CharacterAdded:Connect(function(v12) local v13=0;while true do if (v13==0) then v4=v12;v5=v12:WaitForChild("Humanoid");v13=1 -0 ;end if (v13==1) then v6=v12:WaitForChild("HumanoidRootPart");v7=false;v13=7 -5 ;end if (v13==2) then pcall(function() v5.PlatformStand=false;end);v8=v6.Position.Y;break;end end end);v2.InputBegan:Connect(function(v14) if v7 then local v20=952 -(802 + 150) ;local v21;while true do if (v20==(0 -0)) then v21={Enum.KeyCode.W,Enum.KeyCode.A,Enum.KeyCode.S,Enum.KeyCode.D,Enum.KeyCode.Space,Enum.KeyCode.LeftShift};for v33=1 + 0 , #v21 do if (v14.KeyCode==v21[v33]) then return;end end break;end end end end);v2.InputChanged:Connect(function(v15) if v7 then local v22={Enum.KeyCode.W,Enum.KeyCode.A,Enum.KeyCode.S,Enum.KeyCode.D,Enum.KeyCode.Space,Enum.KeyCode.LeftShift};for v24=1 -0 , #v22 do if (v15.KeyCode==v22[v24]) then return;end end end end);v1.Heartbeat:Connect(function(v16) local v17=0 + 0 ;local v18;local v19;while true do if (v17==(792 -(368 + 423))) then v19=v18-v8 ;v8=v18;v17=6 -4 ;end if (0==v17) then if v5.SeatPart then local v27=18 -(10 + 8) ;while true do if (1==v27) then return;end if (v27==0) then if v7 then local v39=0 -0 ;while true do if (v39==(443 -(416 + 26))) then print("Flug pausiert wegen Sitzen");break;end if (v39==0) then v7=false;pcall(function() v5.PlatformStand=false;end);v39=3 -2 ;end end end v9=true;v27=1 + 0 ;end end else v9=false;end v18=v6.Position.Y;v17=1 -0 ;end if (v17==2) then if ((v19<v10) and  not v7 and  not v9) then local v28=438 -(145 + 293) ;while true do if (v28==(431 -(44 + 386))) then print("Flugmodus: AN");break;end if (v28==(1486 -(998 + 488))) then v7=true;pcall(function() v5.PlatformStand=true;end);v28=1 + 0 ;end end end if (v7 and (math.abs(v19)<(0.01 + 0))) then v7=false;pcall(function() v5.PlatformStand=false;end);print("Flugmodus: AUS (Y stabil)");return;end v17=775 -(201 + 571) ;end if (v17==3) then if v7 then local v29=1138 -(116 + 1022) ;local v30;local v31;local v32;while true do if (v29==(0 -0)) then v30=v6.Position;v31,v32,v31=v6.Orientation:ToEulerAnglesYXZ();v29=1 + 0 ;end if (v29==(3 -2)) then v6.CFrame=CFrame.new(v30) * CFrame.Angles(0 -0 ,math.rad(v32),859 -(814 + 45) ) ;v6.Velocity=Vector3.new(0 -0 ,v6.Velocity.Y,0);break;end end end break;end end end);
    end
})

-- ==== LABLE PARAGRAPH TOOL === --
Tabs.Tool:Paragraph({
    Title = "TOOL CONTROLLER",
    Desc = "menu tool controller",
    Image = "eye",
    ImageSize = 18,
    Color = "White"
})

-- ==== TELEPORT TOOL ==== --
local tptool = Tabs.Tool:Button({
    Title = "Teleport Tool",
    Desc = "memunculkan tool teleport cek di backpack",
    Locked = false,
    Value = false,
    Callback = function() 
        local function createTPTool()
	local tool = Instance.new("Tool")
	tool.Name = "Teleport Tool"
	tool.RequiresHandle = false
	tool.ToolTip = "Click To Teleport"
	
	local function canTeleport()
		local now = tick()
		if now - last_tp < cooldown then
			return false
		end

		local char = player.Character
		if not char then return false end

		local hum = char:FindFirstChild("Humanoid")
		local root = char:FindFirstChild("HumanoidRootPart")
		if not hum or not root or hum.Health <= 0 then
			return false
		end

		return true
	end

	local function teleportTo(pos)
		if not canTeleport() then return end
		last_tp = tick()

		local char = player.Character
		local root = char and char:FindFirstChild("HumanoidRootPart")
		if root then
			root.CFrame = CFrame.new(pos + Vector3.new(0, tp_height, 0))
		end
	end

	-- PC: click to teleport
	tool.Activated:Connect(function()
		if not UserInputService.TouchEnabled then
			local mouse = player:GetMouse()
			if mouse and mouse.Hit then
				teleportTo(mouse.Hit.Position)
			end
		end
	end)

	-- Mobile: tap to teleport
	local touchConnection
	tool.Equipped:Connect(function()
		if UserInputService.TouchEnabled then
			touchConnection = UserInputService.InputEnded:Connect(function(input, processed)
				if input.UserInputType == Enum.UserInputType.Touch and not processed then
					local ray = camera:ScreenPointToRay(input.Position.X, input.Position.Y)
					local result = Workspace:Raycast(ray.Origin, ray.Direction * 1000)
					if result then
						teleportTo(result.Position)
					else
						teleportTo(ray.Origin + ray.Direction * 20)
					end
				end
			end)
		end
	end)

	tool.Unequipped:Connect(function()
		if touchConnection then
			touchConnection:Disconnect()
			touchConnection = nil
		end
	end)

	return tool
end

--// Give the TP tool every spawn
local function giveTPTool()
	local backpack = player:WaitForChild("Backpack")
	local tpTool = createTPTool()
	tpTool.Parent = backpack
end

-- Give when the player spawns
if player.Character then
	giveTPTool()
end

player.CharacterAdded:Connect(function()
	task.wait(1)
	giveTPTool()
end)
    end
})

-- ==== TELEPORT TO PLAYER GUI BRM ==== --
local tptoplayer = Tabs.Tool:Button({
    Title = "Teleport To Player",
    Desc = "memunculkan gui teleport to player",
    Locked = false,
    Callback = function(state) 
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GarapMD/TELEPORT-TO-PLAYER/refs/heads/main/teleporttoplayer.txt"))()
    end
})

-- ==== SPECTATE TO PLAYER GUI BRM ==== --
local spectoplayer = Tabs.Tool:Button({
    Title = "Spectate To Player",
    Desc = "memunculkan gui spectate to player",
    Locked = false,
    Callback = function(state) 
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GarapMD/SPECTATE-TO-PLAYER-/refs/heads/main/spectatetoplayer.txt"))()
    end
})

-- ==== MULTI FLING GUI BRM ==== --
local multifling = Tabs.Tool:Button({
    Title = "Multi Fling",
    Desc = "memunculkan gui multi fling",
    Locked = false,
    Callback = function(state) 
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GarapMD/MULTI-FLING/refs/heads/main/multiflingbrembo.txt"))()
    end
})

-- ==== ANIMATIONS GUI BRM ==== --
local multianim = Tabs.Tool:Button({
    Title = "Multi Anim",
    Desc = "memunculkan gui multi animasi",
    Locked = false,
    Callback = function(state) 
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GarapMD/scanimbrm/refs/heads/main/scanimbrembo.txt"))()
    end
})

-- ==== SC CARRY GUI BRM ==== --
local systarget = Tabs.Tool:Button({
    Title = "System Target",
    Desc = "memunculkan menu system untuk nempelin orang",
    Locked = false,
    Callback = function(state) 
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GarapMD/scnempelin/refs/heads/main/scnempelin.txt"))()
    end
})

-- ==== BUTTON RING PART V1 ==== --
local ringpartv1 = Tabs.Tool:Button({
    Title = "Ring Part V1",
    Desc = "memunculkan tool ring part v1",
    Locked = false,
    Callback = function(state) 
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GarapMD/BringPart/refs/heads/main/BringPart"))()
    end
})

-- ==== BUTTON RING PART V2 ==== --
local ringpartv2 = Tabs.Tool:Button({
    Title = "Ring Part V2",
    Desc = "memunculkan tool ring part v2",
    Locked = false,
    Callback = function(state) 
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GarapMD/superringpart/refs/heads/main/super%20ring%20part.txt"))()
    end
})

-- ==== BUTTON TELEPORT YAHAYUK ==== --
local yahayukbase = Tabs.MtYahayuk:Button({
    Title = "Teleport To BASE",
    Desc = "teleport atau berpindah ke basecamp",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-902.000000, 170.378876, 891.000000))
    end
})

local yahayukcp1 = Tabs.MtYahayuk:Button({
    Title = "Teleport To CP 1",
    Desc = "teleport atau berpindah ke checkpoint 1",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-417.732086, 249.378891, 786.940857))
    end
})

local yahayukcp2 = Tabs.MtYahayuk:Button({
    Title = "Teleport To CP 2",
    Desc = "teleport atau berpindah ke checkpoint 2",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-337.032806, 388.378876, 524.502869))
    end
})

local yahayukcp3 = Tabs.MtYahayuk:Button({
    Title = "Teleport To CP 3",
    Desc = "teleport atau berpindah ke checkpoint 3",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(294.630402, 430.107880, 494.499603))
    end
})

local yahayukcp4 = Tabs.MtYahayuk:Button({
    Title = "Teleport To CP 4",
    Desc = "teleport atau berpindah ke checkpoint 4",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(320.857605, 490.378876, 344.081604))
    end
})

local yahayukcp5 = Tabs.MtYahayuk:Button({
    Title = "Teleport To CP 5",
    Desc = "teleport atau berpindah ke checkpoint 5",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(232.959427, 314.378876, -144.456421))
    end
})

local yahayuksummit = Tabs.MtYahayuk:Button({
    Title = "Teleport To Puncak",
    Desc = "teleport atau berpindah ke puncak / summit",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-611.448059, 906.378845, -537.121033))
    end
})

-- ==== TOGGLE AUTO REJOIN SUMMIT YAHAYUK ==== --
local AutoRejoinToggle = Tabs.MtYahayuk:Toggle({
    Title = "Auto Rejoin Summit",
    Desc = "saat diaktifkan ketika kamu mencapai puncat maka otomatis rejoin server",
    Locked = false,
    Value = g.AutoRejoinSummit,
    Callback = function(state)
        g.AutoRejoinSummit = state
        if state then
            print("[WindUI] Auto Rejoin Summit: ON")
        else
            print("[WindUI] Auto Rejoin Summit: OFF")
        end
    end
})

-- ==== TOGGLE AUTO LOOP TELEPORT YAHAYUK ==== --
local AutoLoopTeleport = Tabs.MtYahayuk:Toggle({
    Title = "Auto Loop Teleport",
    Desc = "teleport otomatis berulang dari base hingga puncak",
    Locked = false,
    Value = g.YahayukLoop,
    Callback = function(state)
        g.YahayukLoop = state
        if state then
            print("[WindUI] Auto Loop Teleport: ON")
        else
            print("[WindUI] Auto Loop Teleport: OFF")
        end
    end
})

-- ==== BUTTON TELEPORT CKPTW ==== --
local ckptwbase = Tabs.MtCkptw:Button({
    Title = "Teleport To BASE",
    Desc = "teleport atau berpindah ke basecamp",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(239.000000, 14.378896, -990.000000))
    end
})

local ckptwcp1 = Tabs.MtCkptw:Button({
    Title = "Teleport To CP 1",
    Desc = "teleport atau berpindah ke checkpoint 1",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(512.151672, 161.001846, -534.376709))
    end
})

local ckptwcp2 = Tabs.MtCkptw:Button({
    Title = "Teleport To CP 2",
    Desc = "teleport atau berpindah ke checkpoint 2",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(390.155762, 310.061584, -187.605545))
    end
})

local ckptwcp3 = Tabs.MtCkptw:Button({
    Title = "Teleport To CP 3",
    Desc = "teleport atau berpindah ke checkpoint 3",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(100.680374, 412.662872, 612.642151))
    end
})

local ckptwcp4 = Tabs.MtCkptw:Button({
    Title = "Teleport To CP 4",
    Desc = "teleport atau berpindah ke checkpoint 4",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(10.800644, 601.564636, 996.701599))
    end
})

local ckptwcp5 = Tabs.MtCkptw:Button({
    Title = "Teleport To CP 5",
    Desc = "teleport atau berpindah ke checkpoint 5",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(871.686768, 865.273560, 582.159607))
    end
})

local ckptwcp6 = Tabs.MtCkptw:Button({
    Title = "Teleport To CP 6",
    Desc = "teleport atau berpindah ke checkpoint 6",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(1615.082397, 1081.558105, 160.475266))
    end
})

local ckptwcp7 = Tabs.MtCkptw:Button({
    Title = "Teleport To CP 7",
    Desc = "teleport atau berpindah ke checkpoint 7",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(2967.895264, 1527.978760, 707.978638))
    end
})

local ckptwcp8 = Tabs.MtCkptw:Button({
    Title = "Teleport To CP 8",
    Desc = "teleport atau berpindah ke checkpoint 8",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(1943.124756, 1744.037598, 1223.344360))
    end
})

local ckptwsummit = Tabs.MtCkptw:Button({
    Title = "Teleport To Puncak",
    Desc = "teleport atau berpindah ke puncak / summit",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(1802.000000, 1982.378418, 2168.000000))
    end
})

-- ==== TOGGLE AUTO REJOIN SUMMIT CKPTW ==== --
local AutoRejoinToggle = Tabs.MtCkptw:Toggle({
    Title = "Auto Rejoin Summit",
    Desc = "saat diaktifkan ketika kamu mencapai puncat maka otomatis rejoin server",
    Locked = false,
    Value = g.AutoRejoinSummit,
    Callback = function(state)
        g.AutoRejoinSummit = state
        if state then
            print("[WindUI] Auto Rejoin Summit: ON")
        else
            print("[WindUI] Auto Rejoin Summit: OFF")
        end
    end
})

-- ==== TOGGLE AUTO LOOP TELEPORT CKPTW ==== --
local AutoLoopTeleport = Tabs.MtCkptw:Toggle({
    Title = "Auto Loop Teleport",
    Desc = "teleport otomatis berulang dari base hingga puncak",
    Locked = false,
    Value = g.CkptwLoop,
    Callback = function(state)
        g.CkptwLoop = state
        if state then
            print("[WindUI] Auto Loop Teleport: ON")
        else
            print("[WindUI] Auto Loop Teleport: OFF")
        end
    end
})

-- ==== BUTTON TELEPORT SIBUATAN ==== --
local sibuatanbase = Tabs.MtSibuatan:Button({
    Title = "Teleport To BASE",
    Desc = "teleport atau berpindah ke basecamp",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(986.535400, 114.178894, -699.993408))
    end
})

local sibuatansummit = Tabs.MtSibuatan:Button({
    Title = "Teleport To Puncak",
    Desc = "teleport atau berpindah ke puncak / summit",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(5396.010254, 8110.784668, 2213.931641))
    end
})

-- ==== TOGGLE AUTO REJOIN SUMMIT SIBUATAN ==== --
local AutoRejoinToggle = Tabs.MtSibuatan:Toggle({
    Title = "Auto Rejoin Summit",
    Desc = "saat diaktifkan ketika kamu mencapai puncat maka otomatis rejoin server",
    Locked = false,
    Value = g.AutoRejoinSummit,
    Callback = function(state)
        g.AutoRejoinSummit = state
        if state then
            print("[WindUI] Auto Rejoin Summit: ON")
        else
            print("[WindUI] Auto Rejoin Summit: OFF")
        end
    end
})

-- ==== TOGGLE AUTO LOOP TELEPORT SIBUATAN ==== --
local AutoLoopTeleport = Tabs.MtSibuatan:Toggle({
    Title = "Auto Loop Teleport",
    Desc = "teleport otomatis berulang dari base hingga puncak",
    Locked = false,
    Value = g.SibuatanLoop,
    Callback = function(state)
        g.SibuatanLoop = state
        if state then
            print("[WindUI] Auto Loop Teleport: ON")
        else
            print("[WindUI] Auto Loop Teleport: OFF")
        end
    end
})

-- ==== BUTTON TELEPORT LEMBAYANA ==== --
local lembayanabase = Tabs.MtLembayana:Button({
    Title = "Teleport To BASE",
    Desc = "teleport atau berpindah ke basecamp",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(766.000000, 254.378876, 679.000000))
    end
})

local lembayanacp1 = Tabs.MtLembayana:Button({
    Title = "Teleport To CP 1",
    Desc = "teleport atau berpindah ke checkpoint 1",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(599.000000, 268.076691, 517.000000))
    end
})

local lembayanasummit = Tabs.MtLembayana:Button({
    Title = "Teleport To Puncak",
    Desc = "teleport atau berpindah ke puncak / summit",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-23430.347656, 6352.698242, -6907.371094))
    end
})

-- ==== TOGGLE AUTO REJOIN SUMMIT LEMBAYANA ==== --
local AutoRejoinToggle = Tabs.MtLembayana:Toggle({
    Title = "Auto Rejoin Summit",
    Desc = "saat diaktifkan ketika kamu mencapai puncat maka otomatis rejoin server",
    Locked = false,
    Value = g.AutoRejoinSummit,
    Callback = function(state)
        g.AutoRejoinSummit = state
        if state then
            print("[WindUI] Auto Rejoin Summit: ON")
        else
            print("[WindUI] Auto Rejoin Summit: OFF")
        end
    end
})

-- ==== TOGGLE AUTO LOOP TELEPORT CKPTW ==== --
local AutoLoopTeleport = Tabs.MtLembayana:Toggle({
    Title = "Auto Loop Teleport",
    Desc = "teleport otomatis berulang dari base hingga puncak",
    Locked = false,
    Value = g.LembayanaLoop,
    Callback = function(state)
        g.LembayanaLoop = state
        if state then
            print("[WindUI] Auto Loop Teleport: ON")
        else
            print("[WindUI] Auto Loop Teleport: OFF")
        end
    end
})

-- ==== BUTTON TELEPORT ATIN ==== --
local atincp1 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 1",
    Desc = "teleport atau berpindah ke checkpoint 1",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(5.000000, 13.979286, -404.000000))
    end
})

local atincp2 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 2",
    Desc = "teleport atau berpindah ke checkpoint 2",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-184.000000, 129.425385, 409.000031))
    end
})

local atincp3 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 3",
    Desc = "teleport atau berpindah ke checkpoint 3",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-165.000000, 231.038300, 653.000061))
    end
})

local atincp4 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 4",
    Desc = "teleport atau berpindah ke checkpoint 4",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-38.000000, 407.956329, 616.000000))
    end
})

local atincp5 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 5",
    Desc = "teleport atau berpindah ke checkpoint 5",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(130.000000, 651.482361, 614.000000))
    end
})

local atincp6 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 6",
    Desc = "teleport atau berpindah ke checkpoint 6",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-247.000000, 667.052979, 735.000000))
    end
})

local atincp7 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 7",
    Desc = "teleport atau berpindah ke checkpoint 7",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-683.420471, 642.119202, 867.463745))
    end
})

local atincp8 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 8",
    Desc = "teleport atau berpindah ke checkpoint 8",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-658.000000, 689.839233, 1458.000000))
    end
})

local atincp9 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 9",
    Desc = "teleport atau berpindah ke checkpoint 9",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-508.000000, 904.273560, 1868.000000))
    end
})

local atincp10 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 10",
    Desc = "teleport atau berpindah ke checkpoint 10",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(61.000000, 951.188721, 2088.000000))
    end
})

local atincp11 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 11",
    Desc = "teleport atau berpindah ke checkpoint 11",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(52.000000, 982.886108, 2451.000000))
    end
})

local atincp12 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 12",
    Desc = "teleport atau berpindah ke checkpoint 12",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(73.000000, 1098.309937, 2458.000000))
    end
})

local atincp13 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 13",
    Desc = "teleport atau berpindah ke checkpoint 13",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(263.000000, 1271.468384, 2038.000000))
    end
})

local atincp14 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 14",
    Desc = "teleport atau berpindah ke checkpoint 14",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-419.000000, 1303.526123, 2395.000000))
    end
})

local atincp15 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 15",
    Desc = "teleport atau berpindah ke checkpoint 15",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-771.425598, 1315.218506, 2665.290039))
    end
})

local atincp16 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 16",
    Desc = "teleport atau berpindah ke checkpoint 16",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-838.000000, 1475.692261, 2626.000000))
    end
})

local atincp17 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 17",
    Desc = "teleport atau berpindah ke checkpoint 17",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-469.000000, 1467.001221, 2769.000000))
    end
})

local atincp18 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 18",
    Desc = "teleport atau berpindah ke checkpoint 18",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-468.000000, 1538.606201, 2837.000000))
    end
})

local atincp19 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 19",
    Desc = "teleport atau berpindah ke checkpoint 19",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-383.780273, 1641.560791, 2794.792236))
    end
})

local atincp20 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 20",
    Desc = "teleport atau berpindah ke checkpoint 20",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-209.000000, 1667.074951, 2749.000000))
    end
})

local atincp21 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 21",
    Desc = "teleport atau berpindah ke checkpoint 21",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-232.023468, 1743.454590, 2793.137939))
    end
})

local atincp22 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 22",
    Desc = "teleport atau berpindah ke checkpoint 22",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-425.000000, 1741.758911, 2799.000000))
    end
})

local atincp23 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 23",
    Desc = "teleport atau berpindah ke checkpoint 23",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-424.000000, 1713.798584, 3421.000000))
    end
})

local atincp24 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 24",
    Desc = "teleport atau berpindah ke checkpoint 24",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(70.435318, 1720.049072, 3426.502197))
    end
})

local atincp25 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 25",
    Desc = "teleport atau berpindah ke checkpoint 25",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(436.000000, 1721.929932, 3430.000000))
    end
})

local atincp26 = Tabs.MtAtin:Button({
    Title = "Teleport To CP 26",
    Desc = "teleport atau berpindah ke checkpoint 26",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(626.000000, 1800.740723, 3433.000000))
    end
})

local summit = Tabs.MtAtin:Button({
    Title = "Teleport To Puncak",
    Desc = "teleport atau berpindah ke puncak / summit",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(823.000000, 2146.322510, 3899.000000))
    end
})

-- ==== TOGGLE AUTO REJOIN SUMMIT ATIN ==== --
local AutoRejoinToggle = Tabs.MtAtin:Toggle({
    Title = "Auto Rejoin Summit",
    Desc = "saat diaktifkan ketika kamu mencapai puncat maka otomatis rejoin server",
    Locked = false,
    Value = g.AutoRejoinSummit,
    Callback = function(state)
        g.AutoRejoinSummit = state
        if state then
            print("[WindUI] Auto Rejoin Summit: ON")
        else
            print("[WindUI] Auto Rejoin Summit: OFF")
        end
    end
})

-- ==== TOGGLE AUTO LOOP TELEPORT ATIN ==== --
local AutoLoopTeleport = Tabs.MtAtin:Toggle({
    Title = "Auto Loop Teleport",
    Desc = "teleport otomatis berulang dari base hingga puncak",
    Locked = false,
    Value = g.AtinLoop,
    Callback = function(state)
        g.AtinLoop = state
        if state then
            print("[WindUI] Auto Loop Teleport: ON")
        else
            print("[WindUI] Auto Loop Teleport: OFF")
        end
    end
})

-- ==== BUTTON TELEPORT BAYI ==== --
local bayibase = Tabs.MtBayi:Button({
    Title = "Teleport To BASE",
    Desc = "teleport atau berpindah ke basecamp",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-7.000000, 18.821625, 3.000000))
    end
})

local bayicp1 = Tabs.MtBayi:Button({
    Title = "Teleport To CP 1",
    Desc = "teleport atau berpindah ke checkpoint 1",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-368.000000, 64.759117, 45.000000))
    end
})

local bayicp2 = Tabs.MtBayi:Button({
    Title = "Teleport To CP 2",
    Desc = "teleport atau berpindah ke checkpoint 2",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-727.966858, 116.759117, 97.011330))
    end
})

local bayicp3 = Tabs.MtBayi:Button({
    Title = "Teleport To CP 3",
    Desc = "teleport atau berpindah ke checkpoint 3",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-852.099060, 110.279152, -36.222080))
    end
})

local bayicp4 = Tabs.MtBayi:Button({
    Title = "Teleport To CP 4",
    Desc = "teleport atau berpindah ke checkpoint 4",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-1409.223022, 252.759109, 1500.366333))
    end
})

local bayisummit = Tabs.MtBayi:Button({
    Title = "Teleport To Puncak",
    Desc = "teleport atau berpindah ke puncak / summit",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-1404.000000, 401.887299, 1613.000000))
    end
})

-- ==== TOGGLE AUTO REJOIN SUMMIT BAYI ==== --
local AutoRejoinToggle = Tabs.MtBayi:Toggle({
    Title = "Auto Rejoin Summit",
    Desc = "saat diaktifkan ketika kamu mencapai puncat maka otomatis rejoin server",
    Locked = false,
    Value = g.AutoRejoinSummit,
    Callback = function(state)
        g.AutoRejoinSummit = state
        if state then
            print("[WindUI] Auto Rejoin Summit: ON")
        else
            print("[WindUI] Auto Rejoin Summit: OFF")
        end
    end
})

-- ==== TOGGLE AUTO LOOP TELEPORT BAYI ==== --
local AutoLoopTeleport = Tabs.MtBayi:Toggle({
    Title = "Auto Loop Teleport",
    Desc = "teleport otomatis berulang dari base hingga puncak",
    Locked = false,
    Value = g.BayiLoop,
    Callback = function(state)
        g.BayiLoop = state
        if state then
            print("[WindUI] Auto Loop Teleport: ON")
        else
            print("[WindUI] Auto Loop Teleport: OFF")
        end
    end
})

-- ==== BUTTON TELEPORT YAREU ==== --
local yareubase = Tabs.MtYareu:Button({
    Title = "Teleport To BASE",
    Desc = "teleport atau berpindah ke basecamp",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-819.000000, 38.759121, -226.000000))
    end
})

local yareucp1 = Tabs.MtYareu:Button({
    Title = "Teleport To CP 1",
    Desc = "teleport atau berpindah ke checkpoint 1",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-124.000000, 128.790359, -53.000000))
    end
})

local yareucp2 = Tabs.MtYareu:Button({
    Title = "Teleport To CP 2",
    Desc = "teleport atau berpindah ke checkpoint 2",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-171.624924, 162.760056, 497.737610))
    end
})

local yareucp3 = Tabs.MtYareu:Button({
    Title = "Teleport To CP 3",
    Desc = "teleport atau berpindah ke checkpoint 3",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-218.000000, 102.759117, 754.000000))
    end
})

local yareucp4 = Tabs.MtYareu:Button({
    Title = "Teleport To CP 4",
    Desc = "teleport atau berpindah ke checkpoint 4",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-666.000000, 318.759094, 978.000000))
    end
})

local yareucp5 = Tabs.MtYareu:Button({
    Title = "Teleport To CP 5",
    Desc = "teleport atau berpindah ke checkpoint 5",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-893.000000, 454.759094, 1064.000000))
    end
})

local yareucp6 = Tabs.MtYareu:Button({
    Title = "Teleport To CP 6",
    Desc = "teleport atau berpindah ke checkpoint 6",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-1125.000000, 530.759094, 1056.000000))
    end
})

local yareucp7 = Tabs.MtYareu:Button({
    Title = "Teleport To CP 7",
    Desc = "teleport atau berpindah ke checkpoint 7",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-1140.000000, 528.759094, 1305.000000))
    end
})

local yareucp8 = Tabs.MtYareu:Button({
    Title = "Teleport To CP 8",
    Desc = "teleport atau berpindah ke checkpoint 8",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-1170.000000, 518.759094, 1841.000000))
    end
})

local yareucp9 = Tabs.MtYareu:Button({
    Title = "Teleport To CP 9",
    Desc = "teleport atau berpindah ke checkpoint 9",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-872.000000, 698.759094, 1810.000000))
    end
})

local summit = Tabs.MtYareu:Button({
    Title = "Teleport To Puncak",
    Desc = "teleport atau berpindah ke puncak / summit",
    Locked = false,
    Callback = function(state) 
        game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-873.094910, 810.254395, 1776.252441))
    end
})

-- ==== TOGGLE AUTO REJOIN SUMMIT YAREU ==== --
local AutoRejoinToggle = Tabs.MtYareu:Toggle({
    Title = "Auto Rejoin Summit",
    Desc = "saat diaktifkan ketika kamu mencapai puncat maka otomatis rejoin server",
    Locked = false,
    Value = g.AutoRejoinSummit,
    Callback = function(state)
        g.AutoRejoinSummit = state
        if state then
            print("[WindUI] Auto Rejoin Summit: ON")
        else
            print("[WindUI] Auto Rejoin Summit: OFF")
        end
    end
})

-- ==== TOGGLE AUTO LOOP TELEPORT YAREU ==== --
local AutoLoopTeleport = Tabs.MtYareu:Toggle({
    Title = "Auto Loop Teleport",
    Desc = "teleport otomatis berulang dari base hingga puncak",
    Locked = false,
    Value = g.YareuLoop,
    Callback = function(state)
        g.YareuLoop = state
        if state then
            print("[WindUI] Auto Loop Teleport: ON")
        else
            print("[WindUI] Auto Loop Teleport: OFF")
        end
    end
})

-- ==== PARAGRAPH ==== --
Tabs.Appearance:Paragraph({
    Title = "Customize Interface",
    Desc = "Personalize your experience",
    Image = "palette",
    ImageSize = 20,
    Color = "White"
})

local themes = {}
for themeName, _ in pairs(WindUI:GetThemes()) do
    table.insert(themes, themeName)
end
table.sort(themes)

local canchangetheme = true
local canchangedropdown = true

-- ==== DROPDOWN ==== --
local themeDropdown = Tabs.Appearance:Dropdown({
    Title = "THEME SELECT",
    Values = themes,
    SearchBarEnabled = true,
    MenuWidth = 280,
    Value = "Midnight",
    Callback = function(theme)
        canchangedropdown = false
        WindUI:SetTheme(theme)
        WindUI:Notify({
            Title = "Theme Applied",
            Content = theme,
            Icon = "palette",
            Duration = 2
        })
        canchangedropdown = true
    end
})

-- ==== SLIDER ==== --
local transparencySlider = Tabs.Appearance:Slider({
    Title = "TRANSPARENCY",
    Value = { 
        Min = 0,
        Max = 1,
        Default = 0.2,
    },
    Step = 0.1,
    Callback = function(value)
        WindUI.TransparencyValue = tonumber(value)
        Window:ToggleTransparency(tonumber(value) > 0)
    end
})

-- ==== TOGGLE ==== --
local ThemeToggle = Tabs.Appearance:Toggle({
    Title = "Enable Dark Mode",
    Desc = "Use dark color scheme",
    Value = true,
    Callback = function(state)
        if canchangetheme then
            WindUI:SetTheme(state and "Dark" or "Light")
        end
        if canchangedropdown then
            themeDropdown:Select(state and "Dark" or "Light")
        end
    end
})

WindUI:OnThemeChange(function(theme)
    canchangetheme = false
    ThemeToggle:Set(theme == "Midnight")
    canchangetheme = true
end)

-- ==== BUTTON ==== --
Tabs.Appearance:Button({
    Title = "Create New Theme",
    Icon = "plus",
    Callback = function()
        Window:Dialog({
            Title = "Create Theme",
            Content = "This feature is coming soon!",
            Buttons = {
                {
                    Title = "OK",
                    Variant = "Primary"
                }
            }
        })
    end
})

-- ==== PARAGRAPH ==== --
Tabs.Config:Paragraph({
    Title = "Configuration Manager",
    Desc = "Save and load your settings",
    Image = "save",
    ImageSize = 20,
    Color = "White"
})

local configName = "default"
local configFile = nil
local MyPlayerData = {
    name = "Player1",
    level = 1,
    inventory = { "sword", "shield", "potion" }
}

-- ==== INPUT ==== --
Tabs.Config:Input({
    Title = "Config Name",
    Value = configName,
    Callback = function(value)
        configName = value or "default"
    end
})

-- ==== CONFIG MANAGER ==== --
local ConfigManager = Window.ConfigManager
if ConfigManager then
    ConfigManager:Init(Window)
    
    Tabs.Config:Button({
        Title = "SAVE CONFIG",
        Icon = "save",
        Variant = "Primary",
        Callback = function()
            configFile = ConfigManager:CreateConfig(configName)
            
            configFile:Register("featureToggle", featureToggle)
            configFile:Register("intensitySlider", intensitySlider)
            configFile:Register("testDropdown", testDropdown)
            configFile:Register("themeDropdown", themeDropdown)
            configFile:Register("transparencySlider", transparencySlider)
            
            configFile:Set("playerData", MyPlayerData)
            configFile:Set("lastSave", os.date("%Y-%m-%d %H:%M:%S"))
            
            if configFile:Save() then
                WindUI:Notify({ 
                    Title = "SAVE CONFIG", 
                    Content = "Saved as: "..configName,
                    Icon = "check",
                    Duration = 3
                })
            else
                WindUI:Notify({ 
                    Title = "Error", 
                    Content = "Failed to save config",
                    Icon = "x",
                    Duration = 3
                })
            end
        end
    })

-- ==== BUTTON ==== --
    Tabs.Config:Button({
        Title = "LOAD CONFIG",
        Icon = "folder",
        Callback = function()
            configFile = ConfigManager:CreateConfig(configName)
            local loadedData = configFile:Load()
            
            if loadedData then
                if loadedData.playerData then
                    MyPlayerData = loadedData.playerData
                end
                
                local lastSave = loadedData.lastSave or "Unknown"
                WindUI:Notify({ 
                    Title = "LOAD CONFIG", 
                    Content = "Loaded: "..configName.."\nLast save: "..lastSave,
                    Icon = "refresh-cw",
                    Duration = 5
                })
                
                Tabs.Config:Paragraph({
                    Title = "Player Data",
                    Desc = string.format("Name: %s\nLevel: %d\nInventory: %s", 
                        MyPlayerData.name, 
                        MyPlayerData.level, 
                        table.concat(MyPlayerData.inventory, ", "))
                })
            else
                WindUI:Notify({ 
                    Title = "Error", 
                    Content = "Failed to load config",
                    Icon = "x",
                    Duration = 3
                })
            end
        end
    })
else
    Tabs.Config:Paragraph({
        Title = "Config Manager Not Available",
        Desc = "This feature requires ConfigManager",
        Image = "alert-triangle",
        ImageSize = 20,
        Color = "White"
    })
end

-- ==== LAINNYA ==== --
Window:OnClose(function()
    print("Window closed")
    
    if ConfigManager and configFile then
        configFile:Set("playerData", MyPlayerData)
        configFile:Set("lastSave", os.date("%Y-%m-%d %H:%M:%S"))
        configFile:Save()
        print("Config auto-saved on close")
    end
end)

Window:OnDestroy(function()
    print("Window destroyed")
end)

Window:OnOpen(function()
    print("Window opened")
end)



-- lock all elements
Window:UnlockAll()

-- unlock all elements
--Window:UnlockAll()

-- unlock all elements in tab
task.wait(0.05)
--  no working :( idk why 
-- Tabs.Elements:LockAll()

if Window:GetUnlocked() and #Window:GetUnlocked() > 0 then
    print("Locked Elements in Window: ")
    for _, lockedelement in next, Window:GetUnlocked() do
        local title = lockedelement.Title
        if string.find(title, Localization.Prefix) then
            local translations = Localization.Translations[WindUI.Creator.Language] or Localization.Translations[Localization.DefaultLanguage]
            title = translations[ title:gsub("^" .. Localization.Prefix, "") ]
        end
        print("- " .. (title or "Unknown"))
    end
    

end













